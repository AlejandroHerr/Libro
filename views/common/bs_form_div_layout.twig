
{% block form_widget -%}
    {% if compound %}
        {{- block('form_widget_compound') -}}
    {% else %}
        {{- block('form_widget_simple') -}}
    {% endif %}
{%- endblock form_widget %}

{% block form_widget_simple -%}
	<div class="col-sm-10">	
    	{% set type = type|default('text') -%}
    	<input type="{{ type }}" {{ block('widget_attributes') }} {% if value is not empty %}value="{{ value }}" {% endif %} class="form-control"/>
    </div>
{%- endblock form_widget_simple %}

{% block form_widget_compound -%}
        {%- if form.parent is empty -%}
            {{ form_errors(form) }}
        {%- endif -%}
        {{- block('form_rows') -}}
        {{- form_rest(form) -}}
{%- endblock form_widget_compound %}
{% block form_row -%}
    {% set row_attr = {'class': (row_attr.class|default('') ~ ' form-group has-feedback')|trim} %}
    {% if errors|length > 0 -%}
        {% set row_attr = row_attr|merge({'class': (row_attr.class|default('') ~ ' has-error')|trim}) %}
    {%- endif %}
    <div {% for attrname, attrvalue in row_attr %} {{ attrname }}="{{ attrvalue }}"{% endfor %}>
        {{- form_label(form) -}}
        {{- form_widget(form) -}}
        {{- form_errors(form) -}}
    </div>
    
{%- endblock form_row %}

{% block form_label -%}
    {% if label is not sameas(false) -%}
        {% if not compound -%}
            {% set label_attr = label_attr|merge({'for': id}) %}
        {%- endif %}
        {% if required -%}
            {% set label_attr = label_attr|merge({'class': (label_attr.class|default('') ~ ' required')|trim}) %}
        {%- endif %}
        {% if label is empty -%}
            {%- if label_format is not empty -%}
                {% set label = label_format|replace({
                    '%name%': name,
                    '%id%': id,
                }) %}
            {%- else -%}
                {% set label = name|humanize %}
            {%- endif -%}
        {%- endif -%}
        {% set label_attr = label_attr|merge({'class': (label_attr.class|default('') ~ ' col-sm-2 control-label')|trim}) %}
        <label{% for attrname, attrvalue in label_attr %} {{ attrname }}="{{ attrvalue }}"{% endfor %}>{{ label|trans({}, translation_domain) }}</label>
    {%- endif %}
{%- endblock form_label %}
{% block choice_widget -%}
	<div class="col-sm-10">	
	    {% if expanded %}
	        {{- block('choice_widget_expanded') -}}
	    {% else %}
	        {{- block('choice_widget_collapsed') -}}
	    {% endif %}
	</div>
{%- endblock choice_widget %}
{% block choice_widget_collapsed -%}
    {% if required and placeholder is none and not placeholder_in_choices and not multiple -%}
        {% set required = false %}
    {%- endif -%}
    <select {{ block('widget_attributes') }}{% if multiple %} multiple="multiple"{% endif %} class="form-control">
        {% if placeholder is not none -%}
            <option value=""{% if required and value is empty %} selected="selected"{% endif %}>{{ placeholder|trans({}, translation_domain) }}</option>
        {%- endif %}
        {%- if preferred_choices|length > 0 -%}
            {% set options = preferred_choices %}
            {{- block('choice_widget_options') -}}
            {% if choices|length > 0 and separator is not none -%}
                <option disabled="disabled">{{ separator }}</option>
            {%- endif %}
        {%- endif -%}
        {% set options = choices -%}
        {{- block('choice_widget_options') -}}
    </select>
{%- endblock choice_widget_collapsed %}
{% block button_widget -%}
	<div class="col-sm-offset-2 col-sm-10">
	    {% if label is empty -%}
	        {%- if label_format is not empty -%}
	            {% set label = label_format|replace({
	                '%name%': name,
	                '%id%': id,
	            }) %}
	        {%- else -%}
	            {% set label = name|humanize %}
	        {%- endif -%}
	    {%- endif -%}
	    <button type="{{ type|default('button') }}" {{ block('button_attributes') }} class="btn btn-default">{{ label|trans({}, translation_domain) }}</button>
	</div>
{%- endblock button_widget %}
{% block submit_widget -%}
	<div class="form-group">
    {% set type = type|default('submit') %}
    {{- block('button_widget') -}}
    </div>
{%- endblock submit_widget %}

{% block form_errors -%}
    {% if errors|length > 0 -%}
        {%- for error in errors -%}
            <span class="col-sm-offset-2 col-sm-10 text-danger">
                {{ error.message }}
            </span>
        {%- endfor -%}
    {%- endif %}
{%- endblock form_errors %}

